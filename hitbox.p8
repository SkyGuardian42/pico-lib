pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
p={}
p.x=60
p.y=60
p.w=6
p.h=7

col_tiles={

}

function hit(x,y,w,h)
	collide=false
	
	for i=x,x+w,w do
			if fget(mget(i/8,y/8))==2 or
					 fget(mget(i/8,(y+h)/8))==2 then
			 collide=true
 		end
 end

	return collide
end

function _update60()
	grid_x=flr(p.x/8)
	grid_y=flr(p.y/8)
	
	map_tile=mget(grid_x,grid_y)
	tile_flag=fget(map_tile)
	dx=0
	dy=0	
	if(btn(⬅️)) dx-=1
	if(btn(➡️)) dx+=1
	if(btn(⬆️)) dy-=1
	if(btn(⬇️)) dy+=1
	
	if hit(p.x+dx,p.y,p.w,p.h) then
		dx=0
	end
	if hit(p.x, p.y+dy,p.w,p.h) then
		dy=0
	end
	p.x+=dx;
	p.y+=dy;

	if(dx == 1) p.f=true else p.f=false
end

function _draw()
	cls()

	map(0,0)
 
	spr(5,p.x,p.y,1,1,p.f)
	pset(p.x,p.y,8)
	
	print(tile_flag)
end
__gfx__
0000000066666666677777776777777767777777000000006777777677777677dddddddd00000000000000000000000000000000000000000000000000000000
0000000066666666777777777666666666666666066666007777777777777777d777777d00000000000000000000000000000000000000000000000000000000
007007006666666677777777766666666666666606666d007777777777777777d777777d00000000000000000000000000000000000000000000000000000000
00077000ddd88ddd7777777776666666666666660d8ddd007777777777777777d777777d00000000000000000000000000000000000000000000000000000000
000770006668866677777777755555555555555506886d007777777777777777d777777d00000000000000000000000000000000000000000000000000000000
007007006666666677777777755555555555555506666d007777777777777777d777777d00000000000000000000000000000000000000000000000000000000
00000000dddddddd77777777755555555555555516661d107777777777777777d777777d00000000000000000000000000000000000000000000000000000000
00000000dddddddd777777777555555555555555100010107777777777777777dddddddd00000000000000000000000000000000000000000000000000000000
00000000000000007777777765555555555555556777777766677777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000007777777775555555555555556667777766677777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000007777777775555555555555556667777766677777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000007777777775555555555555556667777766677777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000007777777775555555555555556667777766677777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000007777777775555555555555556667777766677777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000007777777775555555555555556667777766677777777777777777777777777777777777777777777777777777777777770000000000000000
0000000000000000777777767ddddddddddddddd6667777766677777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000055555555677777775557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000055555555666666665557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000055555555666666665557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000055555555666666665557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
000000000000000000000000dddddddd555555555557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000077777777555555555557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000077777777555555555557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000077777777555555555557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000005557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000005557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000005557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000005557777777777777777777777777777777777777777777777777777777777777777777770000000000000000
0000000000000000000000000000000000000000ddd7777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
77777777677777776777777767777777777777776667777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66666666766666667666666666666666666777776666666677777777777777777777777777777777777777777777777777777777777777777777777777777777
66666666766666667666666666666666666777776666666677777777777777777777777777777777777777777777777777777777777777777777777777777777
66666666766666667666666666666666666777776666666677777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777775555555577777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777775555555577777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777775555555577777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777775555555577777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555666655556555555555555555666777776667777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777776667777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777776667777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777776677777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777776677777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777776667777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766655557555555555555555666777776667777777777777777777777777777777777777777777777777777777777777777777777777777777777777
666ddddd7666dddd7ddddddddddddddd666777776667777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766677777777777777777777666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766677777777777777777777666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766677777777777777777777666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
66655555766677777777777777777777666777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
55555555755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
55555555755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
55555555755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
555ddddd755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
77777777655577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
77777777755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
77777777755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
77777777755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
77777777755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
77777777755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
77777777755577777777777777777777555777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
777777777ddd77777777777777777777ddd777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777777777770000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777000000000000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777000000000000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777000000000000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777000000000000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777000000000000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777000000000000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777000000000000000000000000
00000000000000000000000000000000000000007777777777777777777777777777777777777777777777777777777777777777000000000000000000000000
__map__
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020242434343434343434344020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020252535353535353535354020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020254020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202024143434402020254020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202025153534540434364020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202026102025350535374020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202027102020254020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020254020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020264020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020274020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

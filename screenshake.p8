pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
offset = 0
fade = 0.7

function screen_shake()
  local offset_x=16-rnd(32)
  local offset_y=16-rnd(32)
  offset_x*=offset
  offset_y*=offset
  
  camera(offset_x,offset_y)
  offset*=fade
  if offset<0.05 then
    offset=0
  end
end

shake=2
function _update()
 if(btn(⬆️)) shake +=.2
 if(btn(⬇️)) shake -=.2
 if(btn(⬅️)) fade -=.02
 if(btn(➡️)) fade +=.02
 if(btn(❎)) offset = shake
end

x=44
y=55

function _draw()

	screen_shake()
	cls()
	
	rectfill(0,0,127,127,7)
	
	circ(64,64,28,8)
	
	print("⬆️⬇️ strength: "..shake,3,3,0)
	
	print("⬅️➡️ fade : "..fade,3,10,0)
	
	print("❎ to shake",3,17)
	
	pal(7,13)
	for i=-1,1 do
		for j=-1,1 do
	 	spr(1,x+i,y+j,6,2)
	 end
	end
	pal()
	spr(1,x,y,6,2)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000077077777000770077000777700000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000077707770077077777700770777007777770000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007777707770077077777770770777007770777000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007770000770077077007770777770007700000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007777000777777077000770777000007777700000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000777700777777077000770077770007777700000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000077700777777077777770077777007700000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007777700770077077777770077077707777770000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007777700770077077000770077077707777770000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000770077077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

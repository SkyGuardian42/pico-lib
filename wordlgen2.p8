pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function generatenoise()
	for x=0,mx do
		for y=0,my do
			pset(x,y,12+flr(rnd(2)))
		end
	end
end

function neighbours(x,y,c)
	nc=0
	for j=0.125,1,0.125 do--iterate over neighbouring tiles
  local nx,ny=x+flr(cos(j)+.5),y+flr(sin(j)+.5)
		if(pget(x,y)==c) nc+=1
 end
 return nc
end

function smoothnoise()
for i=0,4 do--smoothing iterations
  for x=0,mx do
   for y=0,my do
    local nc=neighbours(x,y,13)--neighbouring shallow tiles
    --fiddle with these numbers to modify idland frequency
    if nc>5 then
     pset(x,y,13) 
    elseif nc<3 then
     pset(x,y,12)
    end
   end
  end
 end
end

function _init()
	mx,my=127,127
	generatenoise()
	color(7)
	--print(pget(10,10),10,10)
	smoothnoise()

	flip()
--	smooth noise()
	--flip()
end

function _draw()
	if(btnp(❎)) smoothnoise()
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
